---
const { global } = Astro.props;
const logoUrl = global?.logo?.url ?? "/favicon.svg";
const hoaUrl = global?.hoaLink?.url ?? "http://america100maps.com";
import Menu from '../components/menu.astro';

const nav = [
  { label: 'HOME', href: '/' },
  { label: 'ABOUT', href: '/about' },
  { label: 'BLOG', href: '/blog' },
  { label: 'CONTACT', href: '/contact' },
];
const path = Astro.url.pathname;
const isActive = (href: string) => (href === '/' ? path === '/' : path.startsWith(href));
---

<header>
  <div class="header-inner">
    <a id="logo" href="/">
      <img src={logoUrl} alt="Mapping the Nation" width="400" height="90" loading="lazy" decoding="async" />
    </a>

    <nav id="primary">
      <ol>
        {nav.map((item) => (
          <li class={isActive(item.href) ? 'selected' : ''}>
            <a href={item.href} aria-current={isActive(item.href) ? 'page' : undefined}>
              {item.label}
            </a>
          </li>
        ))}
      </ol>
    </nav>

  <Menu />

  <div id="hoa-site-link">
    <a href={hoaUrl} target="_blank" rel="noopener noreferrer">
      New!! A History of America in 100 Maps
    </a>
  </div>
  </div>
</header>
